<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ìš°ë¦¬ì§‘ í•  ì¼ í˜„í™©íŒ & ìŒì•…</title>
    <style>
        :root {
            --bg-color: #0d1117;
            --card-bg: #161b22;
            --point-color: #58a6ff;
            --text-color: #ffffff;
        }
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Malgun Gothic', sans-serif;
            margin: 0; padding: 50px; overflow: hidden;
            display: flex; flex-direction: column; height: 100vh;
        }
        .header {
            display: flex; justify-content: space-between; align-items: center;
            border-bottom: 5px solid var(--point-color);
            padding-bottom: 20px; margin-bottom: 40px;
        }
        .header h1 { font-size: 80px; margin: 0; }
        .clock { font-size: 50px; color: var(--point-color); font-weight: bold; }

        .content-area { display: flex; gap: 40px; flex: 1; }
        
        /* í•  ì¼ ëª©ë¡ ì˜ì—­ */
        .todo-list { flex: 2; display: grid; grid-template-columns: 1fr; gap: 20px; }
        .todo-item {
            background-color: var(--card-bg);
            padding: 30px 50px; border-radius: 20px;
            display: flex; justify-content: space-between; align-items: center;
            border-left: 15px solid var(--point-color);
        }
        .todo-title { font-size: 50px; font-weight: bold; }

        /* ìŒì•…/í”Œë ˆì´ì–´ ì˜ì—­ */
        .music-area {
            flex: 1; background: #000; border-radius: 20px;
            display: flex; flex-direction: column; align-items: center;
            justify-content: center; border: 2px solid #333;
        }
        .music-label { color: #ff0000; font-size: 25px; margin-bottom: 15px; font-weight: bold; }
        
        /* ìœ íŠœë¸Œ ë®¤ì§ ì„ë² ë“œ (í™”ë©´ì— ì•ˆ ë³´ì´ê²Œ í•˜ê±°ë‚˜ ì‘ê²Œ ë°°ì¹˜ ê°€ëŠ¥) */
        #music-player { border-radius: 15px; width: 90%; height: 250px; }

        .empty { font-size: 40px; color: #8b949e; text-align: center; margin-top: 50px; }
    </style>
</head>
<body>

<div class="header">
    <h1>ğŸ“‹ ì§‘ì•ˆì¼ í˜„í™©íŒ</h1>
    <div class="clock" id="clock">00:00:00</div>
</div>

<div class="content-area">
    <div id="todo-list" class="todo-list">
        <div class="empty">ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
    </div>

    <div class="music-area">
        <div class="music-label">ğŸµ NOW PLAYING (YouTube Music)</div>
        <iframe id="music-player" 
            src="https://www.youtube.com/embed/videoseries?list=RDCLAK5uy_m5E65X-p8fJ1E6x6f5W2K4Z&autoplay=0" 
            frameborder="0" allow="autoplay; encrypted-media" allowfullscreen>
        </iframe>
        <p style="color:#666; margin-top:10px;">ë¦¬ëª¨ì»¨ìœ¼ë¡œ ì¬ìƒ ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”</p>
    </div>
</div>

<script>
    const GAS_URL = "https://script.google.com/macros/s/AKfycbzS8V_ACpADQqot8AVNUjT24em4hG0HJjYHY3OVMTWwJeZswsQJ1MItm1HLN65Ue7Lq4g/exec"; // ì¡°íšŒ ì „ìš© URL ì…ë ¥

    // ì‹œê°„ ì—…ë°ì´íŠ¸
    setInterval(() => {
        document.getElementById('clock').innerText = new Date().toLocaleTimeString('ko-KR', {hour12:false});
    }, 1000);

    // í•  ì¼ ë¶ˆëŸ¬ì˜¤ê¸° (ë¡¤ë°±ëœ ì¡°íšŒ ì „ìš© ë¡œì§)
    async function fetchTasks() {
        try {
            const res = await fetch(GAS_URL);
            const data = await res.json();
            const list = document.getElementById('todo-list');
            
            if (!data || data.length === 0) {
                list.innerHTML = '<div class="empty">ì˜¤ëŠ˜ í•  ì¼ì„ ëª¨ë‘ ëëƒˆìŠµë‹ˆë‹¤! ğŸ‰</div>';
                return;
            }

            list.innerHTML = '';
            data.slice(0, 5).forEach(task => {
                const item = document.createElement('div');
                item.className = 'todo-item';
                item.innerHTML = `<div class="todo-title">${task.title}</div>`;
                list.appendChild(item);
            });
        } catch(e) { 
            console.error("ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨", e); 
        }
    }

    fetchTasks();
    setInterval(fetchTasks, 60000); // 1ë¶„ë§ˆë‹¤ ê°±ì‹ 
</script>
</body>
</html>
