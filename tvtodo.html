<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ìš°ë¦¬ì§‘ í˜„í™©íŒ</title>
    <style>
        :root {
            --bg-color: #0d1117;
            --card-bg: #161b22;
            --point-color: #58a6ff;
            --text-color: #ffffff;
        }
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Malgun Gothic', sans-serif;
            margin: 0; padding: 40px; overflow: hidden;
            display: flex; flex-direction: column; height: 100vh;
        }
        .header {
            display: flex; justify-content: space-between; align-items: center;
            border-bottom: 3px solid var(--point-color);
            padding-bottom: 15px; margin-bottom: 30px;
        }
        .header h1 { font-size: 50px; margin: 0; }
        .clock { font-size: 40px; color: var(--point-color); font-weight: bold; }

        /* ëª©ë¡ ì˜ì—­ì„ í™”ë©´ ì „ì²´ë¡œ í™•ì¥ */
        .todo-list { 
            flex: 1; 
            display: grid; 
            grid-template-columns: 1fr; 
            gap: 15px; 
            align-content: start;
        }
        .todo-item {
            background-color: var(--card-bg);
            padding: 25px 40px; border-radius: 15px;
            display: flex; justify-content: space-between; align-items: center;
            border-left: 10px solid var(--point-color);
        }
        .todo-title { font-size: 38px; font-weight: bold; }

        /* ìŒì•… í”Œë ˆì´ì–´ë¥¼ ì•„ì£¼ ì‘ê²Œ ìš°ì¸¡ í•˜ë‹¨ì— ë°°ì¹˜ */
        .music-mini-area {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 200px; /* ì•„ì£¼ ì‘ê²Œ ì„¤ì • */
            height: 120px;
            opacity: 0.5; /* í‰ì†Œì—” ë°˜íˆ¬ëª…í•˜ê²Œ */
            transition: opacity 0.3s;
            background: #000;
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid #333;
        }
        .music-mini-area:hover { opacity: 1; }
        #music-player { width: 100%; height: 100%; }

        .empty { font-size: 35px; color: #8b949e; text-align: center; margin-top: 100px; }
    </style>
</head>
<body>

<div class="header">
    <h1>ğŸ“‹ ì§‘ì•ˆì¼ í˜„í™©íŒ</h1>
    <div class="clock" id="clock">00:00:00</div>
</div>

<div id="todo-list" class="todo-list">
    </div>

<div class="music-mini-area">
    <iframe id="music-player" 
        src="https://www.youtube.com/embed/videoseries?list=PLJVvibrFbS3djZBF-cs-aW1oUFQFvXv0r&autoplay=1&mute=0&shuffle=1&loop=1" 
        frameborder="0" allow="autoplay; encrypted-media">
    </iframe>
</div>

<script>
    const GAS_URL = "https://script.google.com/macros/s/AKfycbzS8V_ACpADQqot8AVNUjT24em4hG0HJjYHY3OVMTWwJeZswsQJ1MItm1HLN65Ue7Lq4g/exec"; // ì¡°íšŒ ì „ìš© GAS URL ì…ë ¥

    // ì‹œê³„ ê¸°ëŠ¥
    setInterval(() => {
        const now = new Date();
        document.getElementById('clock').innerText = now.toLocaleTimeString('ko-KR', {hour12:false});
    }, 1000);

    // í•  ì¼ ë¶ˆëŸ¬ì˜¤ê¸°
    async function fetchTasks() {
        try {
            const res = await fetch(GAS_URL);
            const data = await res.json();
            const list = document.getElementById('todo-list');
            
            if (!data || data.length === 0) {
                list.innerHTML = '<div class="empty">ğŸ‰ ëª¨ë“  ì¼ì„ ë§ˆì³¤ìŠµë‹ˆë‹¤!</div>';
                return;
            }

            list.innerHTML = '';
            // ì´ì œ ë¦¬ìŠ¤íŠ¸ê°€ í™”ë©´ ëŒ€ë¶€ë¶„ì„ ì“°ë¯€ë¡œ ë” ë§ì´(ìµœëŒ€ 10ê°œ) í‘œì‹œ ê°€ëŠ¥
            data.slice(0, 10).forEach(task => {
                const item = document.createElement('div');
                item.className = 'todo-item';
                item.innerHTML = `<div class="todo-title">${task.title}</div>`;
                list.appendChild(item);
            });
        } catch(e) { console.error("ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨", e); }
    }

    fetchTasks();
    setInterval(fetchTasks, 60000); // 1ë¶„ë§ˆë‹¤ ê°±ì‹ 
</script>
</body>
</html>
